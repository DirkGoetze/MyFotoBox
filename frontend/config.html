<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Fotobox</title>
    <link rel="stylesheet" href="fonts/fontawesome-free-5.15.4-web/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- header-block
    -------------------------------------------------------------------------------
    # Funktion: Header mit Projektnamen für Konfigurationsseite
    -------------------------------------------------------------------------------
    -->
    <header id="mainHeader">
        <button class="hamburger" id="hamburgerBtn" tabindex="0" aria-label="Menü öffnen" aria-expanded="false">
            <i class="fas fa-bars" aria-hidden="true"></i>
        </button>
        <span id="headerTitle">Fotobox</span>
        <nav id="headerMenu" aria-label="Hauptmenü">
            <a href="index.html">Aufnahme</a>
            <a href="gallery.html">Galerie</a>
            <a href="config.html">Einstellungen</a>
        </nav>
    </header>
    <!-- Brotkrumen-Navigation unter dem Header -->
    <nav class="breadcrumb">
        <a href="index.html">Home</a> &gt; <span>Konfiguration</span>
    </nav>
    <form id="loginForm" style="margin-bottom:2em;">
        <label>Passwort für Einstellungen:
            <input type="password" id="adminPassword" required>
        </label>
        <button type="submit">Login</button>
        <span id="loginStatus"></span>
    </form>
    <form id="configForm" style="display:none;">
        <fieldset>
            <legend>Anzeige</legend>
            <table class="settings-table">
                <tr>
                    <td class="label">Farbschema</td>
                    <td><select name="color_mode" id="color_mode">
                        <option value="auto">Automatisch (nach Tageszeit)</option>
                        <option value="light">Hell</option>
                        <option value="dark">Dunkel</option>
                    </select></td>
                    <td class="desc">Steuert hellen, dunklen oder automatischen Modus</td>
                </tr>
                <tr>
                    <td class="label">Galerie-Timeout</td>
                    <td><input type="number" name="gallery_timeout" id="gallery_timeout" min="10" max="600" step="1" placeholder="z.B. 60"></td>
                    <td class="desc">Zeit bis Rückkehr zur Aufnahme-Ansicht (Sekunden)</td>
                </tr>
                <tr>
                    <td class="label">Splash Screen anzeigen</td>
                    <td><input type="checkbox" id="showSplashConfig"> Splash Screen beim Start anzeigen</td>
                    <td class="desc">Global für alle Nutzer aktivieren/deaktivieren</td>
                </tr>
            </table>
        </fieldset>
        <fieldset>
            <legend>Event</legend>
            <table class="settings-table">
                <tr>
                    <td class="label">Eventname</td>
                    <td><input type="text" name="event_name" id="event_name" placeholder="z.B. Hochzeit Lisa & Max"></td>
                    <td class="desc">Wird in der Galerie und auf Fotos angezeigt</td>
                </tr>
                <tr>
                    <td class="label">Speicherpfad</td>
                    <td><input type="text" name="storage_path" id="storage_path" placeholder="z.B. /home/pi/fotos"></td>
                    <td class="desc">Ablageort für neue Fotos</td>
                </tr>
            </table>
        </fieldset>
        <fieldset>
            <legend>Fotos</legend>
            <table class="settings-table">
                <tr>
                    <td class="label">Kamera-Modus</td>
                    <td><select name="camera_mode" id="camera_mode">
                        <option value="dummy">Platzhalter (Dummy)</option>
                        <option value="linux">Linux Kamera (z.B. fswebcam)</option>
                    </select></td>
                    <td class="desc">Wählt die Art der Kamera-Ansteuerung</td>
                </tr>
                <tr>
                    <td class="label">Foto-Auflösung</td>
                    <td>
                        <input type="number" name="resolution_width" id="resolution_width" placeholder="Breite (z.B. 1920)" min="1" style="width:6em;"> x 
                        <input type="number" name="resolution_height" id="resolution_height" placeholder="Höhe (z.B. 1080)" min="1" style="width:6em;">
                    </td>
                    <td class="desc">Breite x Höhe der aufgenommenen Fotos (Pixel)</td>
                </tr>
                <tr>
                    <td class="label">Foto-Timer</td>
                    <td>
                        <input type="number" name="photo_timer" id="photo_timer" min="2" max="10" step="1" placeholder="2–10" style="width:5em;">
                        <span class="info">Sekunden</span>
                    </td>
                    <td class="desc">Zeitverzögerung für Fotoaufnahmen (Countdown, 2–10 s, Default 5 s)</td>
                </tr>
            </table>
        </fieldset>
    </form>
    <form id="updateForm" style="display:none;">
        <fieldset>
            <legend>Update & Backup</legend>
            <table class="settings-table">
                <tr>
                    <td class="label">Backup</td>
                    <td><button type="button" id="backupBtn">Backup jetzt ausführen</button></td>
                    <td class="desc">Erstellt eine Sicherung aller wichtigen Konfigurationen und Daten</td>
                </tr>
                <tr>
                    <td class="label">Update</td>
                    <td>
                        <button type="button" id="updateBtn" style="display:none;">Update jetzt ausführen</button>
                        <span id="updateInfoText" style="display:none; color:#38d39f; font-weight:bold;">System aktuell</span>
                        <div id="versionInfo" style="font-size:0.95em; margin-top:0.3em;"></div>
                    </td>
                    <td class="desc">Installiert ein verfügbares Software-Update (nur sichtbar, wenn Update vorhanden)<br><span id="updateExplanation" style="font-size:0.95em;"></span></td>
                </tr>
            </table>
            <span id="updateStatus"></span>
        </fieldset>
    </form>
    <div id="autosaveToast" style="display:none;"></div>
    <!-- footer-block
    -------------------------------------------------------------------------------
    # Funktion: Footer mit Copyright und Projektnamen für alle Seiten
    -------------------------------------------------------------------------------
    -->
    <footer id="mainFooter">
        <span id="footerText">© 2025 Fotobox</span>
    </footer>
    <script src="js/main.js"></script>
</body>
    <!-- -----------------------------------------------------------------------------
         TODO-Liste für config.html wurde gemäß Policy ausgelagert.
         Siehe: .config.todo
         ----------------------------------------------------------------------------- -->
</html>
